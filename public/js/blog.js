
(function(h){var b;var c;var a=false;var e=10;var f=0;var d;var g={comment:{subject:{"Subject should be specified":/.+/},content:{"Comment should have body":/.+/}}};function k(q,p){var o=false;if(d===undefined){b.append("<h3>Comments</h3>");b.append(d=h('<div class="row">'));h(window).scroll(function(){if(!o&&!a&&h(window).scrollTop()+h(window).height()==h(document).height()){o=true;m(function(r){o=false;h.each(r,function(){k(this)})})}})}var n=h('<div class="row comment">').append(h('<div class="comment-title">').append(h('<span class="number">').append(q.created),h('<span class="subject">').append(q.subject),h('<span class="author">').append(q.author),h('<span class="comment-reply">').append(h('<a href="#" class="reply">').append("[reply]").data("subject",q.subject).on("click",function(r){r.preventDefault();b.find('input[name="comment[subject]"]').val("Re: "+h(this).data("subject")).focus()}))),h('<div class="separator">'),h('<div class="comment-body">').append(q.content));if(p!==undefined){d.prepend(n)}else{d.append(n)}}function m(p){var o={offset:f,limit:e};var n=h('<div class="row comment-loader loading">');b.append(n);h.ajax({dataType:"json",url:"/posts/"+c+"/comments.json",data:o,success:function(q){f+=e;a=q.length!==e;n.remove();p(q)}})}var l=function(n){h(this).parent().addClass("error");h('<span class="help-inline">'+n+"</span>").insertAfter(h(this))};var i=function(){var n=h(this);h.ajax({dataType:"json",type:"POST",url:"/posts/"+c+"/comment.json",data:h(":input",n),success:function(o){k(o,true);h(":input",n).not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected");n.find(".alert").removeClass("alert-error").addClass("alert-success").html("<p><strong>"+o.subject+"</strong> comment was added.</p>").show("slow")},error:function(o){n.find(".alert").removeClass("alert-succes").addClass("alert-error").html("<p><strong>Oops, server error, please try again later.</p>").show("slow")}})};var j=function(n){n.preventDefault();h(this).find(".control-group").removeClass("error");h(this).find(".help-inline").remove();h(this).validate_form(g,l,i)};h.fn.commentable=function(n){b=this;c=n;m(function(o){h.each(o,function(){k(this)})});b.find("form").on("submit",j);return this}}(window.jQuery));
(function(d){var b={message:{sender:{"Field cannot be empty":/.+/},email:{"Email must be entered":/.+/,"Email should be valid":/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/},content:{"Message cannot be empty":/.+/}}};var a=function(e){d(this).parent().addClass("error");d('<span class="help-inline">'+e+"</span>").insertAfter(d(this))};var c=function(){var e=d(this);d.ajax({dataType:"json",type:"POST",url:"/contact/message.json",data:d(":input",e),success:function(f){d(":input",e).not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected");e.find(".alert").removeClass("alert-error").addClass("alert-success").html("<p><strong>Message was sent from "+f.email+"</strong> successfuly. Hope I can answer to you soon ;)</p>").show("slow")},error:function(f){console.log("error oi");e.find(".alert").removeClass("alert-succes").addClass("alert-error").html("<p><strong>Oops, server error, please try again later.</p>").show("slow")}})};d.fn.contactable=function(){return d(this).on("submit",function(f){f.preventDefault();d(this).find(".control-group").removeClass("error");d(this).find(".help-inline").remove();d(this).validate_form(b,a,c)})}}(window.jQuery));
(function(a){a.fn.validate_form=function(e,b,d){var c=false;a(":input",a(this)).each(function(){var f=a(this),g;if(g=f.attr("name")){g=g.split("[");var h,j=e;for(h=0;h<g.length;h++){if(!(j=j[g[h].replace(/\]$/,"")])){break}}if(j){a.each(j,function(k,i){if(!f.val().match(i)){c=true;b.call(f,k);return false}})}}});c||d.call(this);return this}}(window.jQuery));