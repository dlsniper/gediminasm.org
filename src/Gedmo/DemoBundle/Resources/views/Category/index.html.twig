{% extends "GedmoDemoBundle::layout.html.twig" %}

{% block actions %}
<ul>
    <li>All test data is reseted every 2 days</li>
    <li><a href="{{ path('demo_category_tree') }}">Show Tree</a></li>
    <li><a href="{{ path('demo_category_add') }}">Add Category</a></li>
    <li><a href="{{ path('demo_language_add') }}">Add Language</a></li>
    <li>
      <a href="{{ path('demo_fallback_translation') }}" title="Languages which does not have translation may fallback to default">
        {% if app.session.get('gedmo.trans.fallback') %}
            <span><em>Disable</em> translation fallback</span>
        {% else %}
            <span><em>Enable</em> translation fallback</span>
        {% endif %}
      </a>
    </li>
</ul>
{% endblock %}

{% block content %}
{{ parent() }}

<table class="table zebra-striped">
<tr>
    <th>{{ knp_pagination_sortable(categories, 'Title', 'c.title') }}</th>
    <th>{{ knp_pagination_sortable(categories, 'Description', 'c.description') }}</th>
    <th>{{ knp_pagination_sortable(categories, 'Slug', 'c.slug') }}</th>
    <th>{{ knp_pagination_sortable(categories, 'Updated', 'c.updated') }}</th>
    <th>Actions</th>
</tr>

{% for category in categories %}
<tr>
    <td><a href="{{ path('demo_category_show', {'slug': category.slug}) }}">{{ category.title }}</a></td>
    <td>{{ category.description }}</td>
    <td>{{ category.slug }}</td>
    <td>{{ category.updated|date('Y-m-d H:i:s') }}</td>
    <td width="15%">
        <a href="{{ path('demo_category_edit', {'id': category.id}) }}">Edit</a>
        <a href="{{ path('demo_category_show', {'slug': category.slug}) }}">Show</a>
        <a href="{{ path('demo_category_delete', {'id': category.id}) }}"
           onclick="return confirm('Are you sure you want to delete {{ category.title }} ?');"
        >Delete</a>
    </td>
</tr>
{% endfor %}
</table>

{{ knp_pagination_render(categories) }}

{% endblock %}
