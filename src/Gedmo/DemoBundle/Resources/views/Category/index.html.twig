{% extends "GedmoDemoBundle::sub_layout.html.twig" %}

{% block actions %}
<ul>
    <li>All test data is reseted every 2 days</li>
    <li><a href="{{ path('demo_category_tree') }}">Show Tree</a></li>
    <li><a href="{{ path('demo_category_add') }}">Add Category</a></li>
    <li><a href="{{ path('demo_language_add') }}">Add Language</a></li>
</ul>
{% endblock %}

{% block content %}
{{ parent() }}

<table class="table zebra-striped">
<tr>
    <th>{{ categories.sortable('Title', 'c.title')|raw }}</th>
    <th>{{ categories.sortable('Description', 'c.description')|raw }}</th>
    <th>{{ categories.sortable('Slug', 'c.slug')|raw }}</th>
    <th>{{ categories.sortable('Updated', 'c.updated')|raw }}</th>
    <th>Actions</th>
</tr>

{% for category in categories %}
<tr>
    <td class="first">{{ category.title }}</td>
    <td>{{ category.description }}</td>
    <td>{{ category.slug }}</td>
    <td>{{ category.updated|date('Y-m-d H:i:s') }}</td>
    <td width="15%">
        <a href="{{ path('demo_category_edit', {'id': category.id}) }}">Edit</a>
        <a href="{{ path('demo_category_show', {'slug': category.slug}) }}">Show</a>
        <a href="{{ path('demo_category_delete', {'id': category.id}) }}" 
           onclick="return confirm('Are you sure you want to delete {{ category.title }} ?');"
        >Delete</a>
    </td>
</tr>
{% endfor %}
</table>

{{ categories.render()|raw }}

{% endblock %}
