{% extends "GedmoDemoBundle::layout.html.twig" %}

{% block actions %}
<ul>
    <li><a href="{{ path('demo_category_tree') }}">Show Tree</a></li>
    <li><a href="{{ path('demo_category_list') }}">List Categories</a></li>
    <li><a href="{{ path('demo_category_add') }}">Add Category</a></li>
    <li><a href="{{ path('demo_language_add') }}">Add Language</a></li>
</ul>
{% endblock %}

{% block content %}
{{ parent() }}

<h3>Node Path:</h3>
{% set pathString = '' %}
{% for item in path %}
    {% set pathString = pathString ~ '/' ~ item.title %}
{% endfor %}
<p>{{ pathString }}</p>

<h3>Current record</h3>

<table class="table zebra-striped">
<tr>
    <th>Field</th>
    <th>Value</th>
    <th>Translations</th>
</tr>
<tr>
    <td>Id</td>
    <td>{{ node.id }}</td>
    <td>Not translatable</td>
</tr>
<tr>
    <td>Title</td>
    <td>{{ node.title }}</td>
    <td>
    <table>
      {% for translation in node.translations %}
        {% if translation.field == "title" %}
          <tr><td style="border:none">{{ translation.locale }}: {{ translation.content }}</td></tr>
        {% endif %}
      {% endfor %}
    </table>
    </td>
</tr>
<tr>
    <td>Description</td>
    <td>{{ node.description }}</td>
    <td>
    <table>
      {% for translation in node.translations %}
        {% if translation.field == "description" %}
          <tr><td style="border:none">{{ translation.locale }}: {{ translation.content }}</td></tr>
        {% endif %}
      {% endfor %}
    </table>
    </td>
</tr>
<tr>
    <td>Slug</td>
    <td>{{ node.slug }}</td>
    <td>
    <table>
      {% for translation in node.translations %}
        {% if translation.field == "slug" %}
          <tr><td style="border:none">{{ translation.locale }}: {{ translation.content }}</td></tr>
        {% endif %}
      {% endfor %}
    </table>
    </td>
</tr>
<tr>
    <td>Updated</td>
    <td>{{ node.updated|date('Y-m-d H:i:s') }}</td>
    <td>Not translatable</td>
</tr>
<tr>
    <td>Created</td>
    <td>{{ node.created|date('Y-m-d H:i:s') }}</td>
    <td>Not translatable</td>
</tr>
<tr>
    <td>Lft</td>
    <td>{{ node.getLeft }}</td>
    <td>Tree field</td>
</tr>
<tr>
    <td>Rgt</td>
    <td>{{ node.getRight }}</td>
    <td>Tree field</td>
</tr>
<tr>
    <td>Parent</td>
    {% set parent = node.parent %}
    <td>{{ parent ? parent.title : 'NULL' }}</td>
    <td>Tree field</td>
</tr>
<tr>
    <td>Root</td>
    <td>{{ node.root }}</td>
    <td>Tree field</td>
</tr>
<tr>
    <td>Level</td>
    <td>{{ node.getLevel }}</td>
    <td>Tree field</td>
</tr>
</table>

{% endblock %}
