{% extends "layout.html" %}

{% block title %}{{ post.title }}{% endblock %}
{% block description %}{{ post.description }}{% endblock %}

{% block styles %}
<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
{% endblock %}

{% block scripts %}
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

<script type="text/javascript">
// source highlighter
hljs.tabReplace = '    ';
hljs.initHighlightingOnLoad();

$('#comments').comments();
</script>
{% endblock %}

{% block content %}

  <h1 id="{{ post.id }}">{{ post.title }}</h1>

  <div class="row summary">{{ post.summary|raw }}</div>

  <div class="row content">{{ post.content|raw }}</div>

  <div id="comments" class="row">
    <form>
      <fieldset>
        <legend>Post a comment</legend>
        <div class="controls input-blocks">
          <input type="hidden" value="{{ post.id }}" name="post_id" />
          <input type="text" class="input-xlarge" placeholder="Subject" value="" name="subject"/>
          <input type="text" class="input-xlarge" value="" placeholder="Author" name="author"/>
          <textarea rows="5"class="input-xlarge" name="content" placeholder="Comment body [Markdown]"></textarea>
        </div>

        <button class="btn btn-primary" type="submit">Submit</button>
      </fieldset>
    </form>
  </div>

  <h3 id="comments-header">Comments</h2>

  <div id="comment-count" style="display:none">{{ countComments }}</div>
  <div class="row" id="comments"></div>
  <a href="#" id="show-more-comments">Show more</a>
{% endblock %}
